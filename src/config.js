// src/config.js

module.exports = {
    // Concurrency settings
    CONCURRENCY_SEARCHERS: 2,
    CONCURRENCY_WORKERS: 5,

    // Navigation & Timeout settings
    NAV_TIMEOUT: 30000, // افزایش برای Google Maps
    SELECTOR_TIMEOUT: 10000, // افزایش برای پیدا کردن feed
    // When false we launch Chrome with a visible window to watch the scraper
    // Headless mode is FASTER and MORE RELIABLE - keep it true for production
    HEADLESS: false, // برای سرور باید true باشد
    
    // Scroll settings
    // How long to wait between scroll steps (ms) – کمتر = سریع‌تر
    // مقدار را کمی بالاتر گرفتیم که فرصت لود آیتم‌های جدید هم باشد
    SCROLL_STEP_MS: 220,
    // چند بار ارتفاع ثابت بماند تا فقط lazy-load را تحریک کنیم (دیگر بر اساس این توقف نمی‌کنیم)
    SCROLL_STABILIZE_LOOPS: 3,
    // سقف مطلق تعداد اسکرول برای جلوگیری از لوپ بی‌نهایت (برای شهرهای شلوغ مثل تهران بالاتر بردیم)
    MAX_SCROLL_LOOPS: 120,

    // Map panning settings (to cover more businesses by moving the viewport)
    // برای پوشش بهتر اطراف شهرهای بزرگ، کمی بیشترش کردیم
    PANNING_STEPS: 4,
    // Pixel distance per pan move
    PANNING_PIXEL_DELTA: 300,

    // Retry logic
    RETRY_LIMIT: 5, // افزایش برای قطع اینترنت
    RETRY_DELAY_BASE: 2000, // 2 ثانیه پایه برای قطع اینترنت
    RETRY_DELAY_MAX: 60000, // حداکثر 60 ثانیه انتظار
    NETWORK_RETRY_DELAY: 10000, // 10 ثانیه برای خطاهای شبکه
    
    // Complete list of Iran provinces
    IRAN_PROVINCES: [
        'تهران', 'البرز', 'قم', 'قزوین', 'گیلان', 'مازندران', 'گلستان',
        'خراسان رضوی', 'خراسان شمالی', 'خراسان جنوبی',
        'آذربایجان شرقی', 'آذربایجان غربی', 'اردبیل',
        'اصفهان', 'کرمان', 'کرمانشاه', 'خوزستان', 'بوشهر', 'هرمزگان',
        'سیستان و بلوچستان', 'یزد', 'مرکزی', 'زنجان', 'همدان', 'کردستان',
        'لرستان', 'چهارمحال و بختیاری', 'کهگیلویه و بویراحمد', 'فارس', 'ایلام', 'سمنان'
    ],

    // Keywords for furniture and home goods scraping
    FURNITURE_KEYWORDS: [
        // 1. مبلمان و مبل
        'مبلمان', 'مبل',
        'فروشگاه مبلمان', 'نمایشگاه مبلمان', 'تولیدی مبل', 'گالری مبلمان',
        'فروشگاه مبل راحتی', 'فروشگاه مبل کلاسیک', 'فروشگاه مبل استیل',
        'فروشگاه مبل ال', 'فروشگاه مبل تختخوابشو', 'فروشگاه مبلمان چرمی',
        'فروشگاه مبلمان چوبی', 'فروشگاه مبلمان لاکچری', 'فروشگاه مبلمان مدرن',
        'فروشگاه مبلمان منزل', 'فروشگاه مبل کودک', 'تولیدکننده مبلمان',
        
        // 2. سرویس خواب
        'سرویس خواب', 'فروشگاه سرویس خواب', 'نمایشگاه سرویس خواب',
        'تولیدی سرویس خواب', 'فروشگاه تخت خواب', 'فروشگاه سرویس خواب نوزاد',
        'فروشگاه سرویس خواب نوجوان', 'فروشگاه سرویس خواب بزرگسال',
        'فروشگاه سرویس خواب مدرن', 'فروشگاه سرویس خواب کلاسیک',
        'فروشگاه سرویس خواب سلطنتی', 'فروشگاه سرویس خواب چوبی',
        'فروشگاه کمد نوزاد', 'فروشگاه تخت دو طبقه', 'فروشگاه پاتختی',
        
        // 3. غذاخوری و ناهارخوری
        'غذاخوری', 'ناهارخوری', 'فروشگاه غذاخوری', 'نمایشگاه غذاخوری',
        'فروشگاه غذاخوری چوبی', 'فروشگاه غذاخوری مدرن', 'فروشگاه غذاخوری کلاسیک',
        'فروشگاه غذاخوری استیل', 'فروشگاه غذاخوری 4 نفره', 'فروشگاه غذاخوری 6 نفره',
        'فروشگاه غذاخوری 8 نفره', 'فروشگاه صندلی غذاخوری', 'فروشگاه صندلی رستورانی',
        
        // 4. ست جلومبلی، عسلی، کنسول، تی وی، جاکفشی
        'جلومبلی', 'عسلی', 'کنسول', 'تی وی', 'جاکفشی',
        'فروشگاه جلومبلی', 'فروشگاه جلومبلی عسلی', 'فروشگاه جلومبلی چوبی',
        'فروشگاه جلومبلی فلزی', 'فروشگاه کنسول', 'فروشگاه میز تی وی',
        'فروشگاه جاکفشی', 'فروشگاه آینه', 'فروشگاه آینه چوبی',
        'فروشگاه کمد دیواری', 'فروشگاه کمد ریلی',
        
        // 5. مبلمان اداری و صندلی اداری
        'مبلمان اداری', 'صندلی اداری', 'فروشگاه مبلمان اداری',
        'نمایشگاه مبلمان اداری', 'تولیدی مبلمان اداری', 'فروشگاه صندلی اداری',
        'فروشگاه صندلی مدیریتی', 'فروشگاه میز مدیریت', 'فروشگاه میز اداری',
        'فروشگاه میز کنفرانس', 'فروشگاه صندلی کارمندی', 'فروشگاه صندلی انتظار'
    ],

    // Output settings
    OUTPUT_DIR: './output',
    TEMP_DIR: './output/temp',

    // User Agents Pool (simplified for now, can be expanded)
    USER_AGENTS: [
        'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
        'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
        'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
        'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/121.0'
    ],

    // Proxies (Placeholder - to be filled by user or loaded from file)
    PROXIES: [],
    
    // Rate Limiting
    REQUESTS_PER_MINUTE: 60,
};
